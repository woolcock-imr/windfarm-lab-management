
<div id=D__ID>
    <section id=form_container__ID>
        <div id=header__ID>
            Neurotology - Vestibular Evoked Myogenic Potentials (VEMPs)
        </div>
        <form id=F__ID>
            <div class="container">
                <!-- participant part for all task forms -------------------->
                <div class="row row__ID" id=row_participant__ID>
                    <div class="col-sm-12 col-lg-9 input__ID">
                        <span class=label__ID>Participant</span><br>
                        <input type=text name="Participant" class=form-control id=Participant__ID data-id="Participant" required />
                    </div>
                    <div class="col-sm-12 col-lg-3 input__ID">
                        <span class=label__ID>Participant ID</span><br>
                        <input type=text name="Participant_uid" class=form-control readonly />
                    </div>
                    <hr style="border-top: 1px solid #888;width: 100%;margin:10px 0">
                </div>
                <!---------------------------------------------------->
                <!-- Form Inputs-------------------------------------->
      
                <div id=dynamic_part__ID></div>
           
            <div class='row row__ID'>
                <div class="col">
                    <span>VEMP Comments</span>
                    <div class="form-control">
                        <u style='cursor:pointer' id=link_comments__ID></u>
                        <br>
                        <input type="datalist" name=comments style="margin-top:6px;width:600px" /> &nbsp&nbsp&nbsp 
                    </div>
                </div>
            </div>
            <div class='row row__ID'>
                <div class="col">
                    <span>VEMP Upload </span>
                    <div class="form-control">
                        <u style='cursor:pointer' id=link_vemp_upload__ID></u>
                        <br>
                        <input type="file" name=vemp_upload style="margin-top:6px" /> &nbsp&nbsp&nbsp <button type="button"
                            id=vemp_upload__ID>Remove</button>
                    </div>
                </div>
            </div>



                <!---------------------------------------------------->
                <!-- submit button part for all tsak forms------------>
                <br>
                <div class="row">
                    <div class=col>
                        <button id=submit__ID type="submit" class="btn btn-secondary">Submit</button>
                    </div>
                </div>
                <!---------------------------------------------------->
            </div>
        </form>
    </section>
    VmInclude:__COMPONENT__/m/model.01.html
    <script>
        function F__ID(){
            //-------------------------------------
            //build text input fields
            var fields ="R_AC_cVEMP_p13_latency,R_AC_cVEMP_n23_latency,R_AC_cVEMP_pp_AMP,R_AC_cVemp_rectified_activation,R_AC_cVEMP_Activation,R_AC_cVEMP_CA,L_AC_cVEMP_p13_latency,L_AC_cVEMP_n23_latency,L_AC_cVEMP_pp_AMP,L_AC_cVemp_rectified_activation,L_AC_cVEMP_Activation,L_AC_cVEMP_CA,AC_cVEMP_AR,R_BC_cVEMP_p13_latency,R_BC_cVEMP_n23_latency,R_BC_cVEMP_pp_AMP,R_BC_cVemp_rectified_activation,R_BC_cVEMP_Activation,R_BC_cVEMP_CA,L_BC_cVEMP_p13_latency,L_BC_cVEMP_n23_latency,L_BC_cVEMP_pp_AMP,L_BC_cVemp_rectified_activation,L_BC_cVEMP_Activation,L_BC_cVEMP_CA,BC_cVEMP_AR,R_AC_oVEMP_n10_Latency,R_AC_oVEMP_pp_Amp,L_AC_oVEMP_n10_Latency,L_AC_oVEMP_pp_AMP,AC_oVEMP_AR,R_BC_oVEMP_n10_Latency,R_BC_oVEMP_pp_Amp,L_BC_oVEMP_n10_Latency,L_BC_oVEMP_pp_Amp,BC_oVMEP_AR,comments,vemp_upload";
            var fs=fields.split(',');
            var txt="";
            for(var i=0;i<fs.length;i++){
                txt+="<div class='row row__ID'><div class='col'>\r\n";
                txt+="<span>"+fs[i].replace(/_/g,"")+"</span><input type=text class=form-control name="+fs[i]+">\r\n";
                txt+="</div></div>\r\n";
            }
            $('#dynamic_part__ID').html(txt);
            //-------------------------------------
            VmInclude:__COMPONENT__/f/form.01.js
            VmInclude:'__CURRENT_PATH__/task-form.js'
            //-------------------------------------
            var load5=m.load;
            m.load=function(){
                load5();
                 m.set_file_link("vemp_upload");
            //---------------------------------------
             var custom_field_process=function(){
            $('#tb__ID td[data-custom=1]').each(function(){
                var field=$(this).attr('data-id');
                switch(field){
                    case"Participant":
                        $(this).find("input[name='"+field+"']").val(_records[I].Participant);
                        $(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
                    break;
                    case "R_AC_cVEMP_p13_latency":
                    case "R_AC_cVEMP_n23_latency":
                    case "R_AC_cVEMP_pp_AMP":
                    case "R_AC_cVemp_rectified_activation":
                    case "R_AC_cVEMP_Activation":
                    case "R_AC_cVEMP_CA":
                    case "L_AC_cVEMP_p13_latency":
                    case "L_AC_cVEMP_n23_latency":
                    case "L_AC_cVEMP_pp_AMP":
                    case "L_AC_cVemp_rectified_activation":
                    case "L_AC_cVEMP_Activation":
                    case "L_AC_cVEMP_CA":
                    case "AC_cVEMP_AR":
                    case "R_BC_cVEMP_p13_latency":
                    case "R_BC_cVEMP_n23_latency":
                    case "R_BC_cVEMP_pp_AMP":
                    case "R_BC_cVemp_rectified_activation":
                    case "R_BC_cVEMP_Activation":
                    case "R_BC_cVEMP_CA":
                    case "L_BC_cVEMP_p13_latency":
                    case "L_BC_cVEMP_n23_latency":
                    case "L_BC_cVEMP_pp_AMP":
                    case "L_BC_cVemp_rectified_activation":
                    case "L_BC_cVEMP_Activation":
                    case "L_BC_cVEMP_CA":
                    case "BC_cVEMP_AR":
                    case "R_AC_oVEMP_n10_Latency":
                    case "R_AC_oVEMP_pp_Amp":
                    case "L_AC_oVEMP_n10_Latency":
                    case "L_AC_oVEMP_pp_AMP":
                    case "AC_oVEMP_AR":
                    case "R_BC_oVEMP_n10_Latency":
                    case "R_BC_oVEMP_pp_Amp":
                    case "L_BC_oVEMP_n10_Latency":
                    case "L_BC_oVEMP_pp_Amp":
                    case "BC_oVMEP_AR":

                    $(this).parent().find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
                    $(this).parent().find("input[name='"+field+"']").on('click',function(){

                            _set_value(this.value,_records,I,field);
                        })
                    break;
                }
            })
        }
        //----------------------------------
    _before_submit_form=function(){
        
    var v1 = parseInt($('#tb__ID').find('input[name=R_AC_cVEMP_p13_latency]:checked').val());
    var v2 = parseInt($('#tb__ID').find('input[name=R_AC_cVEMP_n23_latency]:checked').val());
    var v3 = parseInt($('#tb__ID').find('input[name=R_AC_cVEMP_pp_AMP]:checked').val());
    var v4 = parseInt($('#tb__ID').find('input[name=R_AC_cVemp_rectified_activation]:checked').val());
    var v5 = parseInt($('#tb__ID').find('input[name=R_AC_cVEMP_Activation]:checked').val());
    var v6 = parseInt($('#tb__ID').find('input[name=R_AC_cVEMP_CA]:checked').val());
    var v7 = parseInt($('#tb__ID').find('input[name=L_AC_cVEMP_p13_latency]:checked').val());
    var v8 = parseInt($('#tb__ID').find('input[name=L_AC_cVEMP_n23_latency]:checked').val());
    var v9 = parseInt($('#tb__ID').find('input[name=L_AC_cVEMP_pp_AMP]:checked').val());
    var v10 = parseInt($('#tb__ID').find('input[name=L_AC_cVemp_rectified_activation]:checked').val());
    var v11 = parseInt($('#tb__ID').find('input[name=L_AC_cVEMP_Activation]:checked').val());
    var v12 = parseInt($('#tb__ID').find('input[name=L_AC_cVEMP_CA]:checked').val());
    var v13 = parseInt($('#tb__ID').find('input[name=AC_cVEMP_AR]:checked').val());
    var v14 = parseInt($('#tb__ID').find('input[name=R_BC_cVEMP_p13_latency]:checked').val());
    var v15 = parseInt($('#tb__ID').find('input[name=R_BC_cVEMP_n23_latency]:checked').val());
    var v16 = parseInt($('#tb__ID').find('input[name=R_BC_cVEMP_pp_AMP]:checked').val());
    var v17 = parseInt($('#tb__ID').find('input[name=R_BC_cVemp_rectified_activation]:checked').val());
    var v18 = parseInt($('#tb__ID').find('input[name=R_BC_cVEMP_Activation]:checked').val());
    var v19 = parseInt($('#tb__ID').find('input[name=R_BC_cVEMP_CA]:checked').val());
    var v20 = parseInt($('#tb__ID').find('input[name=L_BC_cVEMP_p13_latency]:checked').val());
    var v21 = parseInt($('#tb__ID').find('input[name=L_BC_cVEMP_n23_latency]:checked').val());
    var v22 = parseInt($('#tb__ID').find('input[name=L_BC_cVEMP_pp_AMP]:checked').val());
    var v23 = parseInt($('#tb__ID').find('input[name=L_BC_cVemp_rectified_activation]:checked').val());
    var v24 = parseInt($('#tb__ID').find('input[name=L_BC_cVEMP_Activation]:checked').val());
    var v25 = parseInt($('#tb__ID').find('input[name=L_BC_cVEMP_CA]:checked').val());
    var v26 = parseInt($('#tb__ID').find('input[name=BC_cVEMP_AR]:checked').val());
    var v27 = parseInt($('#tb__ID').find('input[name=R_AC_oVEMP_n10_Latency]:checked').val());
    var v28 = parseInt($('#tb__ID').find('input[name=R_AC_oVEMP_pp_Amp]:checked').val());
    var v29 = parseInt($('#tb__ID').find('input[name=L_AC_oVEMP_n10_Latency]:checked').val());
    var v30 = parseInt($('#tb__ID').find('input[name=L_AC_oVEMP_pp_AMP]:checked').val());
    var v31 = parseInt($('#tb__ID').find('input[name=AC_oVEMP_AR]:checked').val());
    var v32 = parseInt($('#tb__ID').find('input[name=R_BC_oVEMP_n10_Latency]:checked').val());
    var v33 = parseInt($('#tb__ID').find('input[name=R_BC_oVEMP_pp_Amp]:checked').val());
    var v34 = parseInt($('#tb__ID').find('input[name=L_BC_oVEMP_n10_Latency]:checked').val());
    var v35 = parseInt($('#tb__ID').find('input[name=L_BC_oVEMP_pp_Amp]:checked').val());
    var v36 = parseInt($('#tb__ID').find('input[name=BC_oVMEP_AR]:checked').val());


    var v37=v4/20;
    _records[I].R_AC_cVEMP_Activation=v37;
    var v38=v3/v37;
    _records[I].R_AC_cVEMP_CA=v38;
    var v11=v10/20;
    _records[I].L_AC_cVEMP_Activation=v11;
    var v12=v9/v11;
    _records[I].L_AC_cVEMP_CA=v12;
    var v13=100*((v6-v12)/(v6+v12));
    _records[I].AC_cVEMP_AR=v13;
    var v18=v17/20 ;
    _records[I].R_BC_cVEMP_Activation=v18;
    var v19=v16/v18;
    _records[I].R_BC_cVEMP_CA = v19;
    var v24=v23/20;
    _records[I].L_BC_cVEMP_Activation = v24;
    var v25=v22/v24;
    _records[I].L_BC_cVEMP_CA = v25;
    var v26=100*((v25-v19)/(v25+v19));
    _records[I].BC_cVEMP_AR= v26;
    var v27=100*((v25-v19)/(v25+v19));
    _records[I].R_AC_oVEMP_n10_Latency= v27;
    var v31=100*((v30-v28)/(v30+v28));
    _records[I].AC_oVEMP_AR= v31;
    var v36=100*((v35-v33)/(v35+v33));
    _records[I].BC_oVMEP_AR= v36;
    return true;
        }
    }
}     //-------------------------------------
          

       
    </script>
    <style>
        #form_container__ID{
            max-width:700px;
        }
        VmInclude:__COMPONENT__/f/form.01.css
        
    </style>
</div>
